<div class="p-4">
  <div class="h-30 relative mb-4 flex max-w-full items-center justify-between rounded-2xl bg-slate-700 p-4">
    <p class="text-base text-slate-200">Select the image you like better</p>
    <div class="h-full text-slate-300">
      <button
        class="flex select-none items-center justify-center rounded-lg px-3 py-1 text-white/70 ring-white/50 hover:bg-white/10 active:ring-2"
        (click)="fetchNextPair()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          aria-hidden="true"
          height="18"
          class="mr-2"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
        </svg>
        Skip
      </button>
    </div>
  </div>
  <div *ngIf="randomPair$ | async as pair" class="grid grid-cols-2">
    <div *ngFor="let image of pair" class="flex flex-col items-center justify-center">
      <button
        class="group relative h-[500px] cursor-pointer border-slate-800/30 hover:bg-blue-500/30"
        (click)="onSelect(pair, image.id)"
      >
        <div class="absolute left-1/2 top-1/2 text-white mix-blend-exclusion">
          <svg
            class="inline-block animate-spin"
            width="36"
            height="36"
            viewBox="0 0 24 24"
            fill="currentColor"
            stroke="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g id="Loading">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M1.03545 11.1104C1.48833 5.4513 6.22434 1 12 1C18.0751 1 23 5.92487 23 12C23 17.7757 18.5486 22.5118 12.8894 22.9646V20.9566C17.4425 20.51 21 16.6704 21 12C21 7.02944 16.9706 3 12 3C7.32962 3 3.49013 6.55744 3.04341 11.1104L1.03545 11.1104Z"
              ></path>
            </g>
          </svg>
        </div>
        <img
          [src]="image.image_paths[0]"
          [alt]="image.prompt"
          class="relative max-h-full max-w-full rounded-2xl object-contain outline outline-offset-0 outline-transparent duration-200 ease-in-out group-active:scale-[0.97] group-active:outline-offset-8 group-active:outline-blue-600"
        />
      </button>
      <div
        class="w-full shrink-0 rounded-xl border border-slate-800/50 bg-slate-900/30 text-slate-300"
        [title]="image.prompt"
      >
        <p class="min-h-[2rem] p-4 text-left text-sm leading-4">
          {{ image.full_command }}
        </p>
      </div>
    </div>
  </div>
</div>
